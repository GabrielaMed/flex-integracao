generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Veiculo {
  id                  Int      @id @default(autoincrement())
  placa               String
  renavam             String?
  ativo               Boolean  @default(true)
  cadastro_verificado Boolean  @default(false)
  dt_criacao          DateTime
  dt_atualizacao      DateTime
  id_vehicle_customer Int?
  Viagem              Viagem[]

  @@map("veiculos")
}

model Proprietario {
  id             Int      @id @default(autoincrement())
  nome_prop      String
  cpf_cnpj_prop  String
  ativo          Boolean  @default(true)
  dt_criacao     DateTime
  dt_atualizacao DateTime
  cod_prop       Int
  Viagem         Viagem[]

  @@map("proprietarios")
}

model Motorista {
  id              Int       @id @default(autoincrement())
  nome_mot        String
  cpf_mot         String
  cnh_mot         String?
  dt_emissao_cnh  DateTime?
  dt_primeira_cnh DateTime?
  dt_nascimento   DateTime?
  ativo           Boolean   @default(true)
  dt_criacao      DateTime
  dt_atualizacao  DateTime
  cod_mot         Int
  Viagem          Viagem[]

  @@map("motoristas")
}

model Viagem {
  id Int @id @default(autoincrement())
  id_cliente       Int CODPARCCLI
  dt_viagem        DateTime AD_DHFINVIAGEM
  mercadoria       String Produto_DESCRPROD
  cidade_origem    String CODCIDORIGEM
  cidade_destino   String CODCIDDESTINO
  carreta_um       String? VeiculoReboque1_MARCAPLACA
  carreta_dois     String? VeiculoReboque2_MARCAPLACA
  carreta_tres     String? VeiculoReboque3_MARCAPLACA
  viagem_cancelado String AD_SOLCANCEXT
  dt_cancelamento  DateTime? DHCANCEL
  dt_criacao       DateTime DHINCLUSAO
  dt_atualizacao   DateTime DTALTER
  id_motorista     Int CODPARCMOTORISTA
  id_proprietario  Int CODPARCPROPANTT
  id_veiculo       Int CODVEICULO

  motorista    Motorista    @relation(fields: [id_motorista], references: [id])
  proprietario Proprietario @relation(fields: [id_proprietario], references: [id])
  veiculo      Veiculo      @relation(fields: [id_veiculo], references: [id])

  @@map("viagens")
}

model IntegracaoSankhya {
  id         Int      @id @default(autoincrement())
  last_sync  DateTime
  type_sync  String
  page       Int
  table_name String
  state      String

  @@map("integracao_sankhya")
}
